---
title: File Providers
description: Pelajari cara menggunakan berbagai sumber file dengan Nuxt PDF Kit
navigation:
  title: Providers
  icon: i-heroicons-cloud
---

# File Providers

Nuxt PDF Kit mendukung pemuatan file PDF dari berbagai sumber melalui sistem provider. Ini memungkinkan Anda mengintegrasikan PDF dari Google Drive, CDN kustom, atau sumber lain tanpa konfigurasi server manual.

## Provider yang Tersedia

### URL Provider (Default)

Provider default untuk memuat PDF dari URL langsung.

```vue
<template>
  <NuxtPdfKit src="/sample.pdf" />
</template>
```

**Kasus penggunaan:**

- File PDF lokal di direktori `/public` Anda
- URL langsung dari server Anda sendiri
- URL PDF yang dapat diakses publik dengan header CORS yang tepat

---

### Google Drive Provider

Muat PDF langsung dari Google Drive tanpa route server manual.

```vue
<template>
  <NuxtPdfKit provider="gdrive" src="1bAsv95pTaBiHyGiWFIa-zebT31Al_0tu" />
</template>
```

**Cara mendapatkan ID File Google Drive:**

1. Buka file Anda di Google Drive
2. Klik "Bagikan" → "Dapatkan link"
3. Salin ID dari URL: `https://drive.google.com/file/d/FILE_ID_DISINI/view`
4. Gunakan ID tersebut sebagai prop `src`

**Fitur:**

- ✅ Penanganan CORS otomatis
- ✅ Caching bawaan (24 jam)
- ✅ Deteksi peringatan virus scan
- ✅ Tidak perlu route server manual

**Catatan Penting:**

::alert{type="warning"}
**Batasan Ukuran File**: Google Drive mungkin menampilkan peringatan virus scan untuk file lebih besar dari 100MB. Untuk file besar, pertimbangkan menggunakan URL langsung atau CDN kustom.
::

::alert{type="info"}
**Izin File**: Pastikan file Google Drive Anda diatur ke "Siapa saja yang memiliki link dapat melihat" untuk akses publik.
::

---

### Custom Provider

Gunakan CDN atau server proxy Anda sendiri dengan transformasi URL kustom.

```vue
<template>
  <NuxtPdfKit
    provider="custom"
    src="file-123"
    :provider-config="{
      baseUrl: '/cdn',
      transform: (id) => `/cdn/${id}.pdf`,
    }"
  />
</template>
```

**Opsi Konfigurasi:**

- `baseUrl`: URL dasar untuk provider kustom Anda
- `transform`: Fungsi kustom untuk mengubah src menjadi URL lengkap
- `cache`: Aktifkan/nonaktifkan caching (default: true)
- `maxAge`: Durasi cache dalam detik (default: 86400)

**Contoh dengan transform kustom:**

```vue
<script setup>
const providerConfig = {
  transform: (id) => {
    // Logika kustom untuk membangun URL
    return `https://my-cdn.com/pdfs/${id}.pdf?token=xyz`;
  },
};
</script>

<template>
  <NuxtPdfKit
    provider="custom"
    src="document-123"
    :provider-config="providerConfig"
  />
</template>
```

---

## Contoh Lengkap

Berikut contoh lengkap yang menunjukkan cara beralih antar provider:

```vue
<template>
  <div>
    <!-- Pemilih Provider -->
    <select v-model="selectedProvider">
      <option value="url">URL Langsung</option>
      <option value="gdrive">Google Drive</option>
      <option value="custom">CDN Kustom</option>
    </select>

    <!-- PDF Viewer -->
    <NuxtPdfKit
      :provider="selectedProvider"
      :src="pdfSource"
      :provider-config="providerConfig"
      title="Dokumen Saya"
    />
  </div>
</template>

<script setup>
import { ref, computed } from "vue";

const selectedProvider = ref("url");

const pdfSource = computed(() => {
  switch (selectedProvider.value) {
    case "gdrive":
      return "1bAsv95pTaBiHyGiWFIa-zebT31Al_0tu";
    case "custom":
      return "file-123";
    default:
      return "/sample.pdf";
  }
});

const providerConfig = computed(() => {
  if (selectedProvider.value === "custom") {
    return {
      baseUrl: "/cdn",
      transform: (id) => `/cdn/${id}.pdf`,
    };
  }
  return undefined;
});
</script>
```

---

## Dukungan TypeScript

Semua tipe provider sepenuhnya di-type:

```typescript
import type { PdfProvider, ProviderConfig } from "nuxt-pdf-kit";

const provider: PdfProvider = "gdrive";
const config: ProviderConfig = {
  baseUrl: "/cdn",
  cache: true,
  maxAge: 86400,
};
```

---

## Troubleshooting

### Google Drive: Error "Invalid PDF structure"

**Penyebab**: File mungkin terlalu besar dan memicu peringatan virus scan Google.

**Solusi**:

1. Gunakan file yang lebih kecil (< 100MB)
2. Unduh file dan host langsung
3. Gunakan provider yang berbeda

### Google Drive: Error "File ID is missing"

**Penyebab**: ID file tidak diekstrak dengan benar.

**Solusi**:

1. Verifikasi ID file sudah benar
2. Pastikan Anda hanya menggunakan ID, bukan URL lengkap
3. Periksa bahwa file memiliki akses publik

### Custom Provider: Error CORS

**Penyebab**: Server kustom Anda tidak memiliki header CORS yang tepat.

**Solusi**:

1. Tambahkan header CORS ke server Anda:
   ```typescript
   // server/routes/cdn/[id].ts
   setResponseHeader(event, "Access-Control-Allow-Origin", "*");
   ```
2. Gunakan route proxy untuk menangani CORS

---

## Berkontribusi Provider Baru

Ingin menambahkan dukungan untuk OneDrive, Dropbox, atau layanan lain? Lihat [Panduan Kontribusi](#berkontribusi-provider) di bawah!
